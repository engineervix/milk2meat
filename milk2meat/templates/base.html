{% load static %}
<!DOCTYPE html>
{% comment "We ignore these rules here as they are handled in child templates" %}
    * H030 = Consider adding a meta description.
    * H031 = Consider adding meta keywords.
{% endcomment %}
{# djlint:off H030,H031 #}
<html lang="en" class="h-full">
    <head>
        {# You can add your analytics here #}
        <title>
            {% block title %}
                {% block title_prefix %}
                    Milk2Meat Â»
                {% endblock title_prefix %}
                {{ page.title }}
                {% block title_suffix %}
                {% endblock title_suffix %}
            {% endblock title %}
        </title>
        {% if not debug %}
            {# Umami Analytics #}
            {% if SEO_NOINDEX %}
                {# staging #}
                <script defer
                        src="https://analytics.umusebo.com/script.js"
                        data-website-id="some-id"></script>
            {% else %}
                {# production #}
                <script defer
                        src="https://analytics.umusebo.com/script.js"
                        data-website-id="some-id"></script>
            {% endif %}
        {% endif %}
        {% comment %}
            To prevent _most_ search engines from indexing the site
            https://developers.google.com/search/docs/crawling-indexing/block-indexing
        {% endcomment %}
        {% if SEO_NOINDEX or request.get_host != request.site.hostname %}<meta name="robots" content="noindex" />{% endif %}
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport"
              content="width=device-width, initial-scale=1, shrink-to-fit=no">
        {% if request.in_preview_panel %}<base target="_blank">{% endif %}
        {% block extrameta %}
        {% endblock extrameta %}
        {# Favicons, generated by http://favicon.io/ #}
        <link rel="apple-touch-icon"
              sizes="180x180"
              href="{% static 'ico/apple-touch-icon.png' %}">
        <link rel="icon"
              type="image/png"
              sizes="32x32"
              href="{% static 'ico/favicon-32x32.png' %}">
        <link rel="icon"
              type="image/png"
              sizes="16x16"
              href="{% static 'ico/favicon-16x16.png' %}">
        <link rel="manifest" href="{% static 'ico/site.webmanifest' %}">
        {# Vendor stylesheets can be added here #}
        {# Main Stylesheet #}
        <link href="{% static 'css/main.min.css' %}" rel="stylesheet">
        {% block extra_css %}
            {# Override this in templates to add extra stylesheets #}
        {% endblock extra_css %}
        {% load humanize %}
    </head>
    {# djlint:on #}
    <body class="flex flex-col min-h-screen bg-white text-light-900 dark:bg-dark-900 dark:text-light-100 {% block body_class %}{% endblock body_class %}">
        {# Dark mode toggle #}
        <div class="fixed top-4 right-4 z-50">
            <label for="dark-mode-toggle" class="flex items-center cursor-pointer">
                <div class="relative">
                    <input type="checkbox" id="dark-mode-toggle" class="sr-only">
                    <div class="w-10 h-5 bg-light-300 dark:bg-dark-600 rounded-full shadow-inner"></div>
                    <div class="dot absolute left-0 top-0 w-5 h-5 bg-white rounded-full shadow transform transition-transform dark:translate-x-5"></div>
                </div>
                <span class="ml-3 text-sm text-light-700 dark:text-light-200">
                    <span class="hidden dark:inline">
                        <i class="ph ph-moon"></i>
                    </span>
                    <span class="inline dark:hidden">
                        <i class="ph ph-sun"></i>
                    </span>
                </span>
            </label>
        </div>
        {% include "components/messages.html" %}
        <header class="{% block header_class %}{% endblock header_class %}">
            {% block promo_block %}
            {% endblock promo_block %}
        </header>
        {% block content %}
        {% endblock content %}
        {# Vendor scripts can be added here #}
        {# Main Script #}
        <script src="{% static 'js/main.min.js' %}"></script>
        {# Blueletter Bible #}
        <script src='https://www.blueletterbible.org/assets-v3/scripts/blbToolTip/BLB_ScriptTagger-min.js'
                type='text/javascript'></script>
        <script type='text/javascript'>
            // Additional settings
            BLB.Tagger.Translation = 'ESV';
            BLB.Tagger.HyperLinks = 'all'; // 'all', 'none', 'hover'
            BLB.Tagger.HideTanslationAbbrev = false;
            BLB.Tagger.TargetNewWindow = true;
            BLB.Tagger.Style = 'par'; // 'line' or 'par'
            BLB.Tagger.NoSearchTagNames = ''; // HTML element list
            BLB.Tagger.NoSearchClassNames = 'noTag doNotTag'; // CSS class list
        </script>
        {% block extra_js %}
        {% endblock extra_js %}
    </body>
</html>
